# 需求文档更新说明

## 📢 重要变更：定位调整为个人/小团队24x7数字员工

基于项目的真实架构（loopback/lan部署模式、单机SQLite、Cron Lane自动化）和目标用户画像（SME、self-employed、个人开发者、2-5人小团队），需求文档已从**"企业级AI Gateway"**全面调整为**"个人24x7数字员工系统"**。

---

## 🔄 核心调整内容

### 1. 目标用户重新定义

| 旧定位 | 新定位 |
|:------|:------|
| 企业IT团队（100+人） | **个人开发者、自雇者、小微团队（1-5人）** |
| SOC 2审计、合规认证 | **隐私保护、本地存储、个人数据主权** |
| 多组织多租户隔离 | **多Session隔离（个人多平台/小团队共享）** |

### 2. 规模指标调整

| 指标维度 | 旧目标 | 新目标 | 调整理由 |
|:--------|:------|:------|:--------|
| **并发用户** | 10,000+ | **1-10**（个人多设备 + 小团队） | 单机SQLite适合个人/小团队 |
| **并发Session** | 500+ WebSocket | **10+** | 个人用户足够 |
| **月API成本** | 企业$2000 → $600（节省70%） | **个人$20 → $5-10（节省70%）** | 个人预算敏感 |
| **内存占用** | 2GB（8并发） | **2GB（个人使用）** | 单机资源优化 |
| **可用性SLA** | 99.5%（企业级） | **99%（个人可接受）** | 个人容忍停机 |

### 3. 核心价值主张重塑

| 旧价值主张 | 新价值主张 |
|:----------|:----------|
| 企业合规（GDPR、SOC 2） | **个人隐私保护（数据100%本地化）** |
| 团队协作与权限管理 | **24x7自动工作，替代人类在电脑前** |
| 企业成本节约（$63K/年） | **个人成本可控（月<$10，年节约$240）** |
| 水平扩展（10+ Gateway节点） | **单机高效（Docker一键部署）** |

### 4. 用户故事调整

**新增个人场景**：
- ✅ 早晨自动唤醒与信息汇总（Cron Lane）
- ✅ 个人日记分析与创作模式发现
- ✅ 作家的创意助手（本地存储，创意保护）
- ✅ 自由职业者的客户管理（长期记忆）
- ✅ 完全本地运行（Ollama零成本）
- ✅ 智能家居定时控制（HomePod/Alexa集成）

**移除企业场景**：
- ❌ 100人企业部署与RBAC权限
- ❌ SOC 2审计与合规认证
- ❌ Kubernetes集群与水平扩展
- ❌ 企业知识库（转为个人知识管理）

---

## 📁 调整文档清单

| 文档 | 主要变更 | 状态 |
|:-----|:--------|:-----|
| **overview.md** | 完全重写：目标用户、场景、价值主张 | ✅ 已更新 |
| **value-propositions.md** | 成本分析、ROI、案例全部调整为个人视角 | ✅ 已更新 |
| **user-stories.md** | 27个故事调整为个人/小团队场景 | ✅ 已更新 |
| **functional-requirements.md** | 多租户 → 多Session隔离，成本优化P0 | ✅ 已更新 |
| **non-functional-requirements.md** | 规模指标降低，单机优化优先 | ✅ 已更新 |
| **system-boundaries.md** | 保持不变（技术架构） | ⏸️ 暂不调整 |
| **security-threat-model.md** | 保持不变（安全标准不变） | ⏸️ 暂不调整 |

---

## 🎯 新定位总结

### "你的24x7数字员工，永不休息的个人助理"

**PonyBunny** 不是企业协作平台，而是：
1. **个人AI助理**：像雇佣全职员工一样，24x7持续工作
2. **隐私第一**：数据100%本地存储，永不上传云端
3. **成本可控**：月API开支<$10，或完全本地运行（零成本）
4. **易于部署**：Docker一键启动，15分钟上手
5. **长期陪伴**：像老员工一样记住所有历史，不会"离职"

---

## 📊 调整后的需求分布

### 功能需求优先级（P0-P3）

| 优先级 | 旧分布 | 新分布 | 主要变化 |
|:------|:------|:------|:--------|
| **P0（MVP）** | 6个（企业核心） | **7个（个人核心）** | +成本优化为P0 |
| **P1（重要）** | 8个（增强） | **6个（体验）** | -RBAC、-水平扩展 |
| **P2（高级）** | 3个（扩展） | **4个（社区）** | +工具市场、模板 |

### 非功能需求调整

| 质量属性 | 旧指标 | 新指标 |
|:--------|:------|:------|
| **性能** | P95 < 2s | **P95 < 2s**（不变） |
| **吞吐量** | 500+连接 | **10+连接** |
| **可用性** | 99.5% | **99%** |
| **扩展性** | 10,000用户 | **1-10用户** |
| **部署** | Kubernetes | **Docker Compose** |

---

## ✅ 验收确认

在开发前，请确认以下调整已理解：

- [ ] **目标用户是个人/小团队（1-5人）**，不是企业（100+人）
- [ ] **核心价值是24x7自动工作**，不是团队协作
- [ ] **部署模式是单机Docker**，不是Kubernetes集群
- [ ] **成本目标是月<$10**，不是企业预算优化
- [ ] **隐私保护是核心**，不是企业合规认证
- [ ] **用户体验是关键**，15分钟部署、无技术门槛

---

## 🚀 下一步行动

### Phase 1: MVP开发（3个月）
重点关注个人用户核心需求（P0）：
1. ✅ 多模型Failover（成本优化）
2. ✅ 长期记忆（个人知识管理）
3. ✅ Docker沙箱（安全隔离）
4. ✅ Cron Lane（24x7自动化）
5. ✅ 多Session隔离（个人隐私）
6. ✅ 混合模型策略（成本<$10/月）

### Phase 2: 用户体验优化（3个月）
1. 移动端响应式设计
2. 一键部署脚本
3. 视频教程与文档
4. 成本仪表盘

### Phase 3: 社区生态（6个月）
1. Tool Market（社区贡献）
2. 配置模板库
3. Discord社区
4. 用户案例分享

---

**文档版本**：2.0（个人/小团队定位）  
**最后更新**：2026-01-31  
**调整者**：PonyBunny Product Team  
**变更原因**：基于实际架构（loopback/lan、单机SQLite、Cron Lane）和真实用户需求调研
